nbOfIterations: {{iterations}}
nbOfSamplesPerIteration: {{samples}}
charts:
  - name: spark
    chartdir: {{chart_dir}}
slas:
{% for sla in slas %}
  - name : {{sla.class}}
    chartName: spark
    slos: 
      workload: {{sla.slos.workload}}
      benchPath: {{sla.slos.benchPath}}
      tenantGroup: "{{sla.slos.tenantGroup}}"
      completionTime: {{sla.slos.completionTime}}
      maximumReplicas: {{sla.slos.maximumReplicas}}
      minimumReplicas: {{sla.slos.minimumReplicas}}
      configs: {{sla.slos.configs}}
    nbOfTenants: {{sla.tenants}}
    parameters:
    {% for worker in sla.workers %}
      - name: worker{{worker.id}}.replicaCount
        searchspace:
          min: {{worker.replicas.min}}
          max: {{worker.replicas.max}}
          granularity: 1
        prefix: 
        suffix:
      - name: worker{{worker.id}}.resources.requests.cpu
        resource: CPU
        searchspace:
          min: {{worker.cpus}}
          max: {{worker.cpus}}
          granularity: 1
        prefix:
        suffix:
      - name: worker{{worker.id}}.resources.requests.memory
        resource: Mem
        searchspace:
          min: {{worker.mems}}
          max: {{worker.mems}}
          granularity: 1
        prefix:
        suffix: Gi
       {% endfor %}
{% endfor %}
namespaceStrategy: NSPSLA
optimizer: {{optimizer}}
utilFunc: {{util_func}}
outputDir: {{output}}
{% if prev_results %}
prevResultsPath: {{prev_results}}
{% endif %}
