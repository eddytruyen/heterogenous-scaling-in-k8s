nbOfIterations: {{iterations}}
nbOfSamplesPerIteration: {{samples}}
charts:
  - name: spark
    chartdir: {{chart_dir}}
slas:
{% for sla in slas %}
  - name : {{sla.class}}
    chartName: spark
    slos: 
      workload: {{sla.slos.workload}}
      benchPath: {{sla.slos.benchPath}}
      tenantGroup: "{{sla.slos.tenantGroup}}"
      completionTime: {{sla.slos.completionTime}}
      maximumReplicas: {{sla.slos.maximumReplicas}}
      minimumReplicas: {{sla.slos.minimumReplicas}}
      configs: {{sla.slos.configs}}
{% if sla.slos.previousCompletionTime %}
      previousCompletionTime: {{sla.slos.previousCompletionTime}}
      previousReplicas: {{sla.slos.previousReplicas}}{% endif %} 
    nbOfTenants: {{sla.tenants}}
    parameters:
    {% for worker in sla.workers %}
      - name: worker{{worker.id}}.replicaCount
        searchspace:
          min: {{worker.replicas.min}}
          max: {{worker.replicas.max}}
          granularity: 1
        prefix:  
        suffix:
    {% for key,value in worker.resources.items() %}
      - name: worker{{worker.id}}.resources.requests.{{key}}
        resource: {{key}}
        searchspace:
          min: {{value}}
          max: {{value}}
          granularity: {{increments[key]}}
      {% if prefix[key] == None %}
        prefix: 
      {% else %}
        prefix: {{prefix[key]}}
      {% endif %}
      {% if suffix[key] == None %}
        suffix: 
      {% else %}
        suffix: {{suffix[key]}}
      {% endif %}
       {% endfor %}{% endfor %}
{% endfor %}
namespaceStrategy: NSPSLA
optimizer: {{optimizer}}
utilFunc: {{util_func}}
outputDir: {{output}}
{% if prev_results %}
prevResultsPath: {{prev_results}}
{% endif %}
